/** * Created by bensimms on 23/12/2013. */import gifAnimation.*;import processing.core.PApplet;import processing.core.PImage;import processing.video.Capture;import java.io.File; public class TheTinyGifMaker extends PApplet {   static public void main(String args[]) {   PApplet.main("TheTinyGifMaker");   }    PImage img , img1, img2, img3, img4;    processing.video.Capture camera;    File folder;    boolean photoDeveloped = false;    String folderLocation = "";    int currentFrame = 0;          //Used to count how many frames in the animation always start from zero.    public void setup() {    img1 = loadImage("resources/mainScreen.png");    img2 = loadImage("resources/animationExported.png");    img3 = loadImage("resources/splash.png");    img4 = loadImage("resources/instructions.png");    camera = new Capture(this, 128, 96, 25);    size(200, 200);    image(img3, 0, 0);    }    public void help(){    image(img4, 0, 0);    }    public void selectFolder(){    selectFolder("Where shall we place your tiny gif animation?", "folder");    image(img1, 0, 0);    }    public void folder(File selection) {    if (selection == null) {    camera.stop();    exit();    } else {    folderLocation = selection.getAbsolutePath();    camera.start();    photoDeveloped = false;    }    }    public void keyPressed() {    //Select a folder    if ((key == 's') || (key == 'S')){    selectFolder();    }    //Launch Help    if ((key == 'h') || (key == 'H')){    help();    }    //Quit application    if ((key == 'q') || (key == 'Q')){    camera.stop();    exit();    }    //Take a snapshot if the spacebar is pressed and increase the current frame count by one.    if (key == ' ') {    camera.save(folderLocation + "/Frames/" + "Image" + currentFrame + ".gif");    currentFrame ++;    }    //Stop the camera from filming and begin the gif creation process.    if (key == 10) {    createImage();    }  }    //Load in all frames taken and create the gif image.    public void createImage() {    String fileLocation = folderLocation + "/" + "bensimms.co.uk.gif";    GifMaker gifExport = new GifMaker(this, fileLocation, 10);    gifExport.setRepeat(0);    if (photoDeveloped == false) {    int imageCount = 0;    while (imageCount < currentFrame) {    img = loadImage(folderLocation + "/Frames/" + "Image" + imageCount + ".gif");    gifExport.addFrame(img);    gifExport.setDelay(100);    imageCount ++;    if (imageCount == currentFrame){    System.out.print("Done");    delay(1000);    camera.stop();    super.stop();    image(img2, 0, 0);    }    }    gifExport.finish();    photoDeveloped = true;    }    }    // Stream the live video feed.    public void draw() {    if (camera.available () == true) {    camera.read();    image(camera,35,20);    }    }}