/** * Created by bensimms on 23/12/2013. */import gifAnimation.*;import processing.core.PApplet;import processing.core.PImage;import processing.video.Capture;import java.io.File; public class TheTinyGifMaker extends PApplet {   static public void main(String args[]) {   PApplet.main("TheTinyGifMaker");   }    PImage img , img1, img2, img3, img4;    processing.video.Capture camera;    File folder;    boolean finishImage = false;    boolean photoDeveloped = false;    String folderLocation = "";    int repeatAnimation = 0;       //Should the animation loop, 0 is yes 1 is no    int currentFrame = 0;          //Used to count how many frames in the animation always start from zero.    int qualityLevel = 10;         //Set the quailty of the export, 100 is best (for gif)...    int frameXPos = 35;    int frameYPos = 20;    public void setup() {    img1 = loadImage("resources/mainScreen.png");    img2 = loadImage("resources/animationExported.png");    img3 = loadImage("resources/splash.png");    img4 = loadImage("resources/instructions.png");    camera = new Capture(this, 128, 96, 25);    size(200, 200);    splash();    }     public void splash() {         image(img3, 0, 0);     }     public void help(){         image(img4, 0, 0);     }    public void selectFolder(){        selectFolder("Where shall we place your tiny gif animation?", "folder");        image(img1, 0, 0);    }    public void folder(File selection) {        if (selection == null) {        camera.stop();        exit();        } else {        folderLocation = selection.getAbsolutePath();        camera.start();        finishImage = false;        photoDeveloped = false;        }    }    public void keyPressed() {        if (key == 's'){            selectFolder();        }        if (key == 'h'){            help();        }        if (key == 'q'){            exit();        }        //Tiny        if (key == 49) {            camera.stop();            image(img1, 0, 0);            camera = new Capture(this, 32, 24);            image(camera,0,80);            frameXPos = 80;            camera.start();        }        //Small        if (key == 50) {            camera.stop();            image(img1, 0, 0);            camera = new Capture(this, 64, 48);            image(camera,0,60);            frameXPos = 65;            camera.start();        }        //Medium        if (key == 51) {            camera.stop();            image(img1, 0, 0);            camera = new Capture(this, 128, 96);            image(camera,0,20);            frameXPos = 35;            camera.start();        }        //Quit the application if 'q' is pressed.        if (key == 27) {        camera.stop();        exit();        }        //Take a snapshot if the spacebar is pressed.        if (key == ' ') {        camera.save(folderLocation + "/Frames/" + "Image" + currentFrame + ".gif");        currentFrame ++;        }        //Stop the camera from filming and begin the gif creation process.        if (key == 10) {            //camera.stop();            finishImage = true;            createImage();    }    }        //Load in all frames taken and create the gif image.    public void createImage() {        String fileLocation = folderLocation + "/" + "bensimms.co.uk.gif";        GifMaker gifExport = new GifMaker(this, fileLocation, qualityLevel);        gifExport.setRepeat(repeatAnimation);        if (photoDeveloped == false) {        int imageCount = 0;        while (imageCount < currentFrame) {        img = loadImage(folderLocation + "/Frames/" + "Image" + imageCount + ".gif");        gifExport.addFrame(img);        gifExport.setDelay(100);        imageCount ++;            if (imageCount == currentFrame){            System.out.print("Done");            delay(1000);            camera.stop();            super.stop();            image(img2, 0, 0);            }        }        gifExport.finish();        photoDeveloped = true;        }    }     // Stream the live video feed.     public void draw() {         if (camera.available () == true) {             camera.read();             image(camera,frameXPos,frameYPos);         }     } }